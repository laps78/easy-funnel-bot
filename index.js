import * as dotenv from "dotenv";
import nodemailer from "nodemailer";
import Telebot from "telebot";

// –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è
dotenv.config();

const botConfig = {
  email: {
    username: process.env.EMAIL_ACCOUNT_NAME,
    passwd: process.env.EMAIL_ACCOUNT_PASSWD,
  },
  tg: {
    tg_api_key: process.env.TG_API_KEY,
  },
};

const botOnStart = (msg) => {
  console.log(msg);
  const timeout = setTimeout(() => {
    msg.reply.text(`next step!`);
    clearTimeout(timeout);
  }, 1 * 60 * 1000);
  // for (let day = 0; day <= 5; day += 1){

  // }
};

const shedule = () => {};
console.log(botConfig);

// make bot
const api_key = botConfig.tg.tg_api_key;
const bot = new Telebot(api_key);

bot.on("/start", (msg) => {
  msg.reply.text(
    `–ü—Ä–∏–≤–µ—Ç, ${msg.from.first_name}! üåπ\n\n–°—Ä–∞–∑—É –ø—Ä–µ–¥–ª–∞–≥–∞—é –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –º–æ–π –∫–∞–Ω–∞–ª–∞, –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µüëá –¢–∞–º —è –ø—É–±–ª–∏–∫—É—é –æ–±—â–∏–µ —Ä–∞—Å–∫–ª–∞–¥—ã –∏ –º–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.\n\n–°–ª–µ–¥—É—é—â–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –º—ã –ø–æ–≥—Ä—É–∑–∏–º—Å—è –≤ –º–∏—Ä –¢–∞—Ä–æ.\n\nüéÅ –†–∞–∑ –≤ –¥–µ–Ω—å –≤—ã –±—É–¥–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –æ—Ç –º–µ–Ω—è —Å–æ–æ–±—â–µ–Ω–∏—è, –∞ –≤ –Ω–∏—Ö –ø–æ–¥–∞—Ä–æ–∫ ‚Äî –æ–±—â–∏–π —Ä–∞—Å–∫–ª–∞–¥ –Ω–∞ –ª—é–±–æ–≤–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è. –ú–æ–∂–µ—Ç, –∫–∞–∫–æ–π-—Ç–æ –∏–∑ –Ω–∏—Ö –¥–∞—Å—Ç –æ—Ç–≤–µ—Ç –Ω–∞ –≤–∞—à –≤–æ–ø—Ä–æ—Å.\n\n–ò–Ω–æ–≥–¥–∞ —è –ø—Ä–æ–≤–æ–∂—É ¬´–õ–∞–º–ø–æ–≤—ã–µ —ç—Ñ–∏—Ä—ã —Å –∫–∞—Ä—Ç–∞–º–∏ –¢–∞—Ä–æ¬ª, –≥–¥–µ –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–µ–ª–∞—é –æ–±—â–∏–µ —Ä–∞—Å–∫–ª–∞–¥—ã –Ω–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–µ–º—ã.\n\n–ù–∞ —ç—Ç–∏—Ö —ç—Ñ–∏—Ä–∞—Ö –≤—ã —Å–º–æ–∂–µ—Ç–µ –ø–æ–≥—Ä—É–∑–∏—Ç—å—Å—è –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –º–∞–≥–∏–∏ –∫–∞—Ä—Ç –¢–∞—Ä–æ –∏ –≤—ã–∏–≥—Ä–∞—Ç—å –ø—Ä–∏—è—Ç–Ω—ã–µ –ø—Ä–∏–∑—ã.\n\nüëâ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ –º–æ–π –∫–∞–Ω–∞–ª, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å —ç—Ñ–∏—Ä—ã.\n\nüëâ –ê —Ç—É—Ç –Ω–µ–º–Ω–æ–≥–æ –æ–±–æ –º–Ω–µ:\n\nhttps://t.me/taro_laptevoy/8\n\n–£–∂–µ –∑–∞–≤—Ç—Ä–∞, –≤–∞–º –ø—Ä–∏–¥–µ—Ç –ø–µ—Ä–≤–æ–µ –ø–∏—Å—å–º–æ —Å  —Ä–∞—Å–∫–ª–∞–¥–æ–º.\n\n–ì–æ—Ç–æ–≤—ã –ø–æ–≥—Ä—É–∑–∏—Ç—å—Å—è –≤ –º–∏—Ä –¢–∞—Ä–æ?\n\n–°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª: https://t.me/`
  );
  botOnStart(msg);
});

bot.on("text", (msg) => {
  botOnStart(msg);
  msg.reply.text("–ü—Ä–æ—Ü–µ—Å—Å –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω...");
});

bot.start();

export default botConfig;
